<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI TEST</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/result.css">    
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="/">
                    <img src="/image/main_logo.png" alt="Forest Animal Logo" id="nav-logo">
                </a>
            </div>
            <div class="title">
                <h1>Perfume MBTI Test</h1>
            </div>
        </nav>
    </header>

    <div class="container">
        <div class="result-type">
            <h4>당신의 성격 유형: </h4>
            <h1><%= mbtiType %></h1>
            <span id="mbtiType"></span>
        </div>
        <div class="percentage-container">
            <div class="percentage-bar" id="E-I">
                <span class="label">E</span>
                <span class="percentage-text"><%= EI_value %>%</span>
                <div class="bar">
                    <div class="fill" style="width: <%= EI_value || 0%>%;"></div>
                </div>
                <span class="percentage-text"><%= 100 - EI_value %>%</span>
                <span class="label">I</span>
            </div>
            <div class="percentage-bar" id="S-N">
                <span class="label">S</span>
                <span class="percentage-text"><%= SN_value %>%</span>
                <div class="bar">
                    <div class="fill" style="width: <%= SN_value || 0 %>%;"></div>
                </div>
                <span class="percentage-text"><%= 100 - SN_value %>%</span>
                <span class="label">N</span>
            </div>
            <div class="percentage-bar" id="T-F">
                <span class="label">T</span>
                <span class="percentage-text"><%= TF_value %>%</span>
                <div class="bar">
                    <div class="fill" style="width: <%= TF_value || 0 %>%;"></div>
                </div>
                <span class="percentage-text"><%= 100 - TF_value %>%</span>
                <span class="label">F</span>
            </div>
            <div class="percentage-bar" id="J-P">
                <span class="label">J</span>
                <span class="percentage-text"><%= JP_value %>%</span>
                <div class="bar">
                    <div class="fill" style="width: <%= JP_value || 0 %>%;"></div>
                </div>
                <span class="percentage-text"><%= 100 - JP_value %>%</span>
                <span class="label">P</span>
            </div>
        </div>

        <div class="result-characteristics">
            <h1><sapn class="circle-number">1</sapn>성격 특성</h1>
            <div class="result-characteristics-content">
                <p>· <%= mbtiData["personalityTraits"]["relationships"] %></p>          
                <p>· <%= mbtiData["personalityTraits"]["hobbies"] %></p>                     
                <p>· <%= mbtiData["personalityTraits"]["romance"] %></p>               
                <h2>강점</h2>
                <p>· <%= mbtiData["personalityTraits"]["strengths"].join(", ") %></p> 
                <h2>약점</h2>       
                <p>· <%= mbtiData["personalityTraits"]["weaknesses"].join(", ") %></p>       
            </div>
        </div>

        <div class="result-recomand">
            <h1><sapn class="circle-number">2</sapn>추천 향</h1>
        </div>
        <div class="result-recomand-info">
            <h1>즉흥적이고 에너제틱한 성격에 어울리는 상쾌하고 강렬한 향</h1>
        </div>
        
        <div class="result-recomand">
            <h2><sapn class="circle-number">3</sapn>추천 향수</h2>
            <div class="perfume-container">
                <% mbtiData["perfumeRecommendations"].forEach(function(perfume, index) { %>
                    <div class="perfume-item">
                        <h3><%= perfume["perfumeName"] %></h3>
                        <h4 class="abc"><%= perfume["perfumeDescription"] %></h4>
                        <div class="perfume-image">
                            <p>이미지</p> <!-- 이미지 경로를 추가할 경우 여기에 동적으로 삽입 -->
                        </div>
                        <div class="perfume-description">
                            <h4>향수에 관한 설명:</h4>
                            <p>(어떤 특징이 있고 어떤 향을 담고 있는지)</p>
                            <p>사용 연령대나 선호 성별</p>
                        </div>
                        <div class="scent-description">
                            <% mbtiData["recommendedScents"].forEach(function(scent) { %>
                                <h4>향 설명:</h4>
                                <p><%= scent %> 향이란?</p>
                                <p><%= mbtiData["scentDescriptions"]["scent"] %></p>
                            <% }); %>
                        </div>
                    </div>
                <% }); %>
            </div>
        </div>
        <button id="restartButton" onclick="window.location.href='/'">다시 테스트하기</button>

    <footer>
        <p>&copy; <%= new Date().getFullYear() %> Perfum MBTI Test</p>
    </footer>

    <script src="/js/app.js"></script>
</body>
</html>